---
layout: article
title: Git误操作解决办法
key: 20180622
tags:
- 中文
- Git
toc: true
date: 2018-06-22 19:10:00
---
> 又是工作中的问题。
>
> 我们使用的是Git+Git lfs 的工程管理，由于对业务不太熟悉，在添加文件时，不小心跳过lfs过程提交了一个大文件，经过同事的知道，终于修复了这个问题，在这里记录一下。
>
> 如果你也遇到了同样的问题，希望这对你有一个帮助。

<!--more-->

#### 操作流程

假设，文件`a.x`是误提交的文件。

```bash
#找到a.x是在哪个提交添加的
$ git log 'a.x的path'
#rebase这次提交
$ git rebase -i 'hash^'
#在编辑器中将hash的pick改成edit，然后保存退出，rm 文件，执行lfs，add，commit
$ git rm --cached 'a.x的path'
$ git lfs track 'a.x的path'
$ git add .
$ git commit --amend
#结束rebase
$ git rebase --continue
```

到此为止，你的文件已经成功的被lfs管理了。

__注意：在 `rebase --continue` 的过程中，有可能会产生 `.gitattributes` 文件的冲突，请解决冲突后，继续执行 `rebase --continue` 即可。__

